document.body.onkeydown=function(e){9===e.keyCode&&(document.body.classList.add("tab-user"),document.addEventListener("click",function(){document.body.classList.remove("tab-user")}))},document.removeEventListener("click",function(){document.body.classList.remove("tab-user")});var nav_toggle=document.getElementsByClassName("main-nav__toggle")[0],main_header=document.getElementsByClassName("main-header")[0],main_nav=document.getElementsByClassName("main-nav")[0];main_header.classList.remove("main-header--nojs"),main_nav.classList.remove("main-nav--nojs"),nav_toggle.addEventListener("click",function(){main_nav.classList.contains("main-nav--open")?(main_nav.classList.remove("main-nav--open"),main_nav.classList.add("main-nav--close"),main_header.classList.remove("main-header--open"),main_header.classList.add("main-header--close")):(main_nav.classList.remove("main-nav--close"),main_nav.classList.add("main-nav--open"),main_header.classList.remove("main-header--close"),main_header.classList.add("main-header--open"))});var slider_btns=document.getElementsByClassName("reviews__toggles")[0],slider_list=document.getElementsByClassName("slider__list")[0],reviews_wrapper=document.getElementsByClassName("reviews__wrapper")[0],rev_prev=document.getElementsByClassName("reviews__btn--prev")[0],rev_next=document.getElementsByClassName("reviews__btn--next")[0];function deselectAll(e){for(var t=0;t<e.children.length;t++)e.children[t].classList.remove("slider__btn--active")}slider_btns.onclick=function(e){var t=e.target;switch(t.dataset.slide){case"1":slider_list.style.transform="translateX(0)",deselectAll(this),t.classList.add("slider__btn--active");break;case"2":slider_list.style.transform="translateX(-"+reviews_wrapper.offsetWidth+"px)",deselectAll(this),t.classList.add("slider__btn--active");break;case"3":slider_list.style.transform="translateX(-"+2*reviews_wrapper.offsetWidth+"px)",deselectAll(this),t.classList.add("slider__btn--active")}},$(".slider__list").swipe({swipeLeft:leftSwipeRev,swipeRight:rightSwipeRev,threshold:0});var swipe_count_rev=0;function leftSwipeRev(){swipe_count_rev<2&&(swipe_count_rev++,slider_list.style.transform="translateX(-"+swipe_count_rev*reviews_wrapper.offsetWidth+"px)",deselectAll(slider_btns),slider_btns.children[swipe_count_rev].classList.add("slider__btn--active"))}function rightSwipeRev(){swipe_count_rev>0&&(swipe_count_rev--,slider_list.style.transform="translateX(-"+swipe_count_rev*reviews_wrapper.offsetWidth+"px)",deselectAll(slider_btns),slider_btns.children[swipe_count_rev].classList.add("slider__btn--active"))}var slide_count=0;rev_next.onclick=function(){slide_count<2&&(slide_count++,slider_list.style.transform="translateX(-"+slide_count*reviews_wrapper.offsetWidth+"px)")},rev_prev.onclick=function(){slide_count>0&&(slide_count--,slider_list.style.transform="translateX(-"+slide_count*reviews_wrapper.offsetWidth+"px)")};var price_btns=document.getElementsByClassName("price__toggles")[0],price_list=document.getElementsByClassName("price__list")[0],price_wrapper=document.getElementsByClassName("price__wrapper")[0];price_btns.onclick=function(e){var t=e.target;switch(t.dataset.slide){case"1":price_list.style.transform="translateX(0)",deselectAll(this),t.classList.add("slider__btn--active");break;case"2":price_list.style.transform="translateX(-30.9%)",deselectAll(this),t.classList.add("slider__btn--active");break;case"3":price_list.style.transform="translateX(-61.8%)",deselectAll(this),t.classList.add("slider__btn--active")}},$(".price__list").swipe({swipeLeft:leftSwipePrice,swipeRight:rightSwipePrice,threshold:0});var swipe_count_price=0;function leftSwipePrice(){swipe_count_price<2&&(swipe_count_price++,price_list.style.transform="translateX(-"+30.9*swipe_count_price+"%)",deselectAll(price_btns),price_btns.children[swipe_count_price].classList.add("slider__btn--active"))}function rightSwipePrice(){swipe_count_price>0&&(swipe_count_price--,price_list.style.transform="translateX(-"+30.9*swipe_count_price+"%)",deselectAll(price_btns),price_btns.children[swipe_count_price].classList.add("slider__btn--active"))}if(document.getElementById("YMapsID")){var myMap,myPlacemar;function init(){(myMap=new ymaps.Map("YMapsID",{center:[59.93628,30.321076],zoom:16,controls:[]})).behaviors.disable("scrollZoom"),myMap.controls.add("zoomControl",{float:"none"}),myMap.controls.add("fullscreenControl",{float:"right"}),myMap.controls.add("typeSelector",{float:"left"}),myMap.controls.get("typeSelector").options.set("size","small"),myPlacemark=new ymaps.Placemark([59.93628,30.321076],{hintContent:"PINK",balloonContent:"191186, Санкт-Петербург, Невский пр., д.20"},{iconLayout:"default#image",iconImageHref:"img/icon-map-marker.svg",iconImageSize:[36,36],iconImageOffset:[-10,-10]}),myMap.geoObjects.add(myPlacemark)}ymaps.ready(init)}var pop_sucs=document.getElementById("popup_success"),pop_err=document.getElementById("popup_error"),form_contest=document.getElementsByClassName("questionnaire__form")[0],first_name=document.getElementById("first_name"),second_name=document.getElementById("surname"),email=document.getElementById("mail"),storage_name=localStorage.getItem("first_name"),storage_second_name=localStorage.getItem("second_name"),storage_email=localStorage.getItem("email");function showPopup(e,t){e.classList.remove("popup--close"),e.classList.add("popup--open"),e.getElementsByClassName("popup__btn")[0].onclick=function(){e.classList.contains("popup--success")&&t.submit(),closePopup(e)},document.onkeydown=function(t){27===t.keyCode&&closePopup(e)}}function closePopup(e){e.classList.remove("popup--open"),e.classList.add("popup--close")}storage_name&&(first_name.value=storage_name),storage_second_name&&(second_name.value=storage_second_name),storage_email&&(email.value=storage_email),form_contest.addEventListener("submit",function(e){""==first_name.value||""==second_name.value||""==email.value?(showPopup(pop_err),e.preventDefault()):(showPopup(pop_sucs,form_contest),localStorage.setItem("first_name",first_name.value),localStorage.setItem("second_name",second_name.value),localStorage.setItem("email",email.value),e.preventDefault())});